# Details

Date : 2026-02-22 19:10:57

Directory /Volumes/Work/Projects/Morpheus

Total : 124 files,  33293 codes, 782 comments, 3681 blanks, all 37756 lines

[Summary](results.md) / Details / [Diff Summary](diff.md) / [Diff Details](diff-details.md)

## Files
| filename | language | code | comment | blank | total |
| :--- | :--- | ---: | ---: | ---: | ---: |
| [README.md](/README.md) | Markdown | 357 | 0 | 108 | 465 |
| [backend/agents/studio.py](/backend/agents/studio.py) | Python | 643 | 4 | 96 | 743 |
| [backend/api/main.py](/backend/api/main.py) | Python | 3,198 | 10 | 432 | 3,640 |
| [backend/core/__init__.py](/backend/core/__init__.py) | Python | 0 | 0 | 1 | 1 |
| [backend/core/llm_client.py](/backend/core/llm_client.py) | Python | 362 | 1 | 44 | 407 |
| [backend/core/story_templates.py](/backend/core/story_templates.py) | Python | 176 | 0 | 8 | 184 |
| [backend/memory/__init__.py](/backend/memory/__init__.py) | Python | 648 | 5 | 65 | 718 |
| [backend/memory/search.py](/backend/memory/search.py) | Python | 204 | 0 | 40 | 244 |
| [backend/models/__init__.py](/backend/models/__init__.py) | Python | 171 | 0 | 39 | 210 |
| [backend/scripts/run_api.sh](/backend/scripts/run_api.sh) | Shell Script | 17 | 1 | 5 | 23 |
| [backend/services/consistency.py](/backend/services/consistency.py) | Python | 246 | 1 | 54 | 301 |
| [backend/tests/test_agent_non_blocking.py](/backend/tests/test_agent_non_blocking.py) | Python | 42 | 2 | 12 | 56 |
| [backend/tests/test_api_smoke.py](/backend/tests/test_api_smoke.py) | Python | 863 | 1 | 108 | 972 |
| [docs/BUGFIX_REPORT_2026-02-17.md](/docs/BUGFIX_REPORT_2026-02-17.md) | Markdown | 58 | 0 | 13 | 71 |
| [docs/QUICKSTART.md](/docs/QUICKSTART.md) | Markdown | 124 | 0 | 44 | 168 |
| [docs/knowledge-graph-standard-mode.md](/docs/knowledge-graph-standard-mode.md) | Markdown | 178 | 0 | 92 | 270 |
| [docs/morpheus-mcp-service-adaptation.md](/docs/morpheus-mcp-service-adaptation.md) | Markdown | 119 | 0 | 39 | 158 |
| [docs/novelist-agent-requirements.md](/docs/novelist-agent-requirements.md) | Markdown | 177 | 0 | 29 | 206 |
| [docs/plans/2026-02-14-novelist-agent-implementation.md](/docs/plans/2026-02-14-novelist-agent-implementation.md) | Markdown | 110 | 0 | 35 | 145 |
| [docs/writing-console-simplification-plan.md](/docs/writing-console-simplification-plan.md) | Markdown | 98 | 0 | 29 | 127 |
| [docs/问题文档/UIUX全面翻新审计-2026-02-15.md](/docs/%E9%97%AE%E9%A2%98%E6%96%87%E6%A1%A3/UIUX%E5%85%A8%E9%9D%A2%E7%BF%BB%E6%96%B0%E5%AE%A1%E8%AE%A1-2026-02-15.md) | Markdown | 70 | 0 | 19 | 89 |
| [docs/问题文档/深度除虫报告-2026-02-15.md](/docs/%E9%97%AE%E9%A2%98%E6%96%87%E6%A1%A3/%E6%B7%B1%E5%BA%A6%E9%99%A4%E8%99%AB%E6%8A%A5%E5%91%8A-2026-02-15.md) | Markdown | 57 | 0 | 11 | 68 |
| [frontend/e2e/smoke.spec.ts](/frontend/e2e/smoke.spec.ts) | TypeScript | 5 | 0 | 2 | 7 |
| [frontend/e2e/system-bugfix.spec.ts](/frontend/e2e/system-bugfix.spec.ts) | TypeScript | 76 | 0 | 23 | 99 |
| [frontend/e2e/templates.spec.ts](/frontend/e2e/templates.spec.ts) | TypeScript | 60 | 0 | 14 | 74 |
| [frontend/index.html](/frontend/index.html) | HTML | 13 | 0 | 1 | 14 |
| [frontend/package-lock.json](/frontend/package-lock.json) | JSON | 8,590 | 0 | 1 | 8,591 |
| [frontend/package.json](/frontend/package.json) | JSON | 53 | 0 | 1 | 54 |
| [frontend/playwright.config.ts](/frontend/playwright.config.ts) | TypeScript | 12 | 0 | 3 | 15 |
| [frontend/postcss.config.js](/frontend/postcss.config.js) | JavaScript | 6 | 0 | 1 | 7 |
| [frontend/src/App.tsx](/frontend/src/App.tsx) | TypeScript JSX | 35 | 0 | 3 | 38 |
| [frontend/src/components/chapter/ChapterExportMenu.tsx](/frontend/src/components/chapter/ChapterExportMenu.tsx) | TypeScript JSX | 121 | 5 | 14 | 140 |
| [frontend/src/components/chapter/ChapterTOC.tsx](/frontend/src/components/chapter/ChapterTOC.tsx) | TypeScript JSX | 52 | 0 | 5 | 57 |
| [frontend/src/components/chapter/__tests__/ChapterExportMenu.test.tsx](/frontend/src/components/chapter/__tests__/ChapterExportMenu.test.tsx) | TypeScript JSX | 186 | 3 | 30 | 219 |
| [frontend/src/components/chapter/__tests__/ChapterTOC.test.tsx](/frontend/src/components/chapter/__tests__/ChapterTOC.test.tsx) | TypeScript JSX | 66 | 4 | 11 | 81 |
| [frontend/src/components/layout/AppLayout.tsx](/frontend/src/components/layout/AppLayout.tsx) | TypeScript JSX | 93 | 0 | 9 | 102 |
| [frontend/src/components/layout/Sidebar.tsx](/frontend/src/components/layout/Sidebar.tsx) | TypeScript JSX | 164 | 0 | 18 | 182 |
| [frontend/src/components/layout/__tests__/Sidebar.test.tsx](/frontend/src/components/layout/__tests__/Sidebar.test.tsx) | TypeScript JSX | 211 | 9 | 27 | 247 |
| [frontend/src/components/project/ProjectCreateModal.tsx](/frontend/src/components/project/ProjectCreateModal.tsx) | TypeScript JSX | 278 | 0 | 17 | 295 |
| [frontend/src/components/ui/ActivityPanel.tsx](/frontend/src/components/ui/ActivityPanel.tsx) | TypeScript JSX | 78 | 0 | 11 | 89 |
| [frontend/src/components/ui/BatchStateMachine.tsx](/frontend/src/components/ui/BatchStateMachine.tsx) | TypeScript JSX | 82 | 3 | 12 | 97 |
| [frontend/src/components/ui/DisabledTooltip.tsx](/frontend/src/components/ui/DisabledTooltip.tsx) | TypeScript JSX | 40 | 0 | 6 | 46 |
| [frontend/src/components/ui/ErrorBoundary.tsx](/frontend/src/components/ui/ErrorBoundary.tsx) | TypeScript JSX | 39 | 0 | 9 | 48 |
| [frontend/src/components/ui/PageTransition.tsx](/frontend/src/components/ui/PageTransition.tsx) | TypeScript JSX | 17 | 0 | 3 | 20 |
| [frontend/src/components/ui/ReadingModeToolbar.tsx](/frontend/src/components/ui/ReadingModeToolbar.tsx) | TypeScript JSX | 59 | 0 | 4 | 63 |
| [frontend/src/components/ui/ReadingModeView.tsx](/frontend/src/components/ui/ReadingModeView.tsx) | TypeScript JSX | 105 | 0 | 12 | 117 |
| [frontend/src/components/ui/ShortcutHelpPanel.tsx](/frontend/src/components/ui/ShortcutHelpPanel.tsx) | TypeScript JSX | 61 | 0 | 6 | 67 |
| [frontend/src/components/ui/Skeleton.tsx](/frontend/src/components/ui/Skeleton.tsx) | TypeScript JSX | 14 | 0 | 3 | 17 |
| [frontend/src/components/ui/Toast.tsx](/frontend/src/components/ui/Toast.tsx) | TypeScript JSX | 58 | 1 | 6 | 65 |
| [frontend/src/components/ui/ToastContainer.tsx](/frontend/src/components/ui/ToastContainer.tsx) | TypeScript JSX | 23 | 0 | 3 | 26 |
| [frontend/src/components/ui/__tests__/ActivityPanel.test.tsx](/frontend/src/components/ui/__tests__/ActivityPanel.test.tsx) | TypeScript JSX | 109 | 1 | 15 | 125 |
| [frontend/src/components/ui/__tests__/BatchStateMachine.pbt.test.tsx](/frontend/src/components/ui/__tests__/BatchStateMachine.pbt.test.tsx) | TypeScript JSX | 96 | 26 | 22 | 144 |
| [frontend/src/components/ui/__tests__/BatchStateMachine.test.tsx](/frontend/src/components/ui/__tests__/BatchStateMachine.test.tsx) | TypeScript JSX | 82 | 0 | 14 | 96 |
| [frontend/src/components/ui/__tests__/DisabledTooltip.pbt.test.tsx](/frontend/src/components/ui/__tests__/DisabledTooltip.pbt.test.tsx) | TypeScript JSX | 43 | 20 | 12 | 75 |
| [frontend/src/components/ui/__tests__/DisabledTooltip.test.tsx](/frontend/src/components/ui/__tests__/DisabledTooltip.test.tsx) | TypeScript JSX | 76 | 6 | 13 | 95 |
| [frontend/src/components/ui/__tests__/ShortcutHelpPanel.test.tsx](/frontend/src/components/ui/__tests__/ShortcutHelpPanel.test.tsx) | TypeScript JSX | 63 | 1 | 17 | 81 |
| [frontend/src/components/ui/__tests__/Skeleton.test.tsx](/frontend/src/components/ui/__tests__/Skeleton.test.tsx) | TypeScript JSX | 24 | 0 | 5 | 29 |
| [frontend/src/components/ui/__tests__/Toast.test.tsx](/frontend/src/components/ui/__tests__/Toast.test.tsx) | TypeScript JSX | 104 | 2 | 30 | 136 |
| [frontend/src/config/features.ts](/frontend/src/config/features.ts) | TypeScript | 8 | 0 | 2 | 10 |
| [frontend/src/config/storyTemplates.ts](/frontend/src/config/storyTemplates.ts) | TypeScript | 126 | 0 | 3 | 129 |
| [frontend/src/hooks/__tests__/useAutoSave.pbt.test.ts](/frontend/src/hooks/__tests__/useAutoSave.pbt.test.ts) | TypeScript | 50 | 9 | 14 | 73 |
| [frontend/src/hooks/__tests__/useAutoSave.test.ts](/frontend/src/hooks/__tests__/useAutoSave.test.ts) | TypeScript | 142 | 5 | 44 | 191 |
| [frontend/src/hooks/__tests__/useConfirmClose.pbt.test.ts](/frontend/src/hooks/__tests__/useConfirmClose.pbt.test.ts) | TypeScript | 25 | 4 | 5 | 34 |
| [frontend/src/hooks/__tests__/useConfirmClose.test.ts](/frontend/src/hooks/__tests__/useConfirmClose.test.ts) | TypeScript | 75 | 1 | 22 | 98 |
| [frontend/src/hooks/__tests__/useKeyboardShortcuts.test.ts](/frontend/src/hooks/__tests__/useKeyboardShortcuts.test.ts) | TypeScript | 188 | 9 | 46 | 243 |
| [frontend/src/hooks/__tests__/useSSEStream.test.ts](/frontend/src/hooks/__tests__/useSSEStream.test.ts) | TypeScript | 201 | 8 | 37 | 246 |
| [frontend/src/hooks/useAutoSave.ts](/frontend/src/hooks/useAutoSave.ts) | TypeScript | 95 | 3 | 17 | 115 |
| [frontend/src/hooks/useConfirmClose.ts](/frontend/src/hooks/useConfirmClose.ts) | TypeScript | 39 | 0 | 9 | 48 |
| [frontend/src/hooks/useKeyboardShortcuts.ts](/frontend/src/hooks/useKeyboardShortcuts.ts) | TypeScript | 82 | 11 | 13 | 106 |
| [frontend/src/hooks/useSSEStream.ts](/frontend/src/hooks/useSSEStream.ts) | TypeScript | 268 | 12 | 36 | 316 |
| [frontend/src/index.css](/frontend/src/index.css) | CSS | 2,321 | 46 | 422 | 2,789 |
| [frontend/src/lib/api.ts](/frontend/src/lib/api.ts) | TypeScript | 5 | 1 | 2 | 8 |
| [frontend/src/main.tsx](/frontend/src/main.tsx) | TypeScript JSX | 12 | 0 | 2 | 14 |
| [frontend/src/pages/ChapterWorkbenchPage.tsx](/frontend/src/pages/ChapterWorkbenchPage.tsx) | TypeScript JSX | 1,055 | 29 | 76 | 1,160 |
| [frontend/src/pages/DashboardPage.tsx](/frontend/src/pages/DashboardPage.tsx) | TypeScript JSX | 355 | 8 | 24 | 387 |
| [frontend/src/pages/KnowledgeGraphPage.tsx](/frontend/src/pages/KnowledgeGraphPage.tsx) | TypeScript JSX | 853 | 18 | 72 | 943 |
| [frontend/src/pages/MemoryBrowserPage.tsx](/frontend/src/pages/MemoryBrowserPage.tsx) | TypeScript JSX | 558 | 8 | 41 | 607 |
| [frontend/src/pages/ProjectDetail.tsx](/frontend/src/pages/ProjectDetail.tsx) | TypeScript JSX | 418 | 54 | 21 | 493 |
| [frontend/src/pages/ProjectList.tsx](/frontend/src/pages/ProjectList.tsx) | TypeScript JSX | 326 | 2 | 20 | 348 |
| [frontend/src/pages/TraceReplayPage.tsx](/frontend/src/pages/TraceReplayPage.tsx) | TypeScript JSX | 348 | 15 | 32 | 395 |
| [frontend/src/pages/WritingConsolePage.tsx](/frontend/src/pages/WritingConsolePage.tsx) | TypeScript JSX | 757 | 21 | 66 | 844 |
| [frontend/src/pages/__tests__/ChapterWorkbenchPage.test.tsx](/frontend/src/pages/__tests__/ChapterWorkbenchPage.test.tsx) | TypeScript JSX | 441 | 25 | 78 | 544 |
| [frontend/src/pages/__tests__/DashboardPage.test.tsx](/frontend/src/pages/__tests__/DashboardPage.test.tsx) | TypeScript JSX | 307 | 4 | 36 | 347 |
| [frontend/src/pages/__tests__/KnowledgeGraphPage.pbt.test.ts](/frontend/src/pages/__tests__/KnowledgeGraphPage.pbt.test.ts) | TypeScript | 208 | 55 | 43 | 306 |
| [frontend/src/pages/__tests__/KnowledgeGraphPage.test.tsx](/frontend/src/pages/__tests__/KnowledgeGraphPage.test.tsx) | TypeScript JSX | 408 | 10 | 57 | 475 |
| [frontend/src/pages/__tests__/LayerBadgeContrast.pbt.test.ts](/frontend/src/pages/__tests__/LayerBadgeContrast.pbt.test.ts) | TypeScript | 74 | 25 | 17 | 116 |
| [frontend/src/pages/__tests__/MemoryBrowserPage.test.tsx](/frontend/src/pages/__tests__/MemoryBrowserPage.test.tsx) | TypeScript JSX | 401 | 4 | 86 | 491 |
| [frontend/src/pages/__tests__/ProjectDetail.test.tsx](/frontend/src/pages/__tests__/ProjectDetail.test.tsx) | TypeScript JSX | 341 | 1 | 43 | 385 |
| [frontend/src/pages/__tests__/ProjectList.test.tsx](/frontend/src/pages/__tests__/ProjectList.test.tsx) | TypeScript JSX | 255 | 3 | 41 | 299 |
| [frontend/src/pages/__tests__/SvgIcons.pbt.test.tsx](/frontend/src/pages/__tests__/SvgIcons.pbt.test.tsx) | TypeScript JSX | 29 | 14 | 5 | 48 |
| [frontend/src/pages/__tests__/TraceReplayPage.pbt.test.ts](/frontend/src/pages/__tests__/TraceReplayPage.pbt.test.ts) | TypeScript | 33 | 12 | 11 | 56 |
| [frontend/src/pages/__tests__/TraceReplayPage.test.tsx](/frontend/src/pages/__tests__/TraceReplayPage.test.tsx) | TypeScript JSX | 278 | 5 | 35 | 318 |
| [frontend/src/pages/__tests__/WritingConsolePage.test.tsx](/frontend/src/pages/__tests__/WritingConsolePage.test.tsx) | TypeScript JSX | 394 | 7 | 67 | 468 |
| [frontend/src/services/__tests__/exportService.pbt.test.ts](/frontend/src/services/__tests__/exportService.pbt.test.ts) | TypeScript | 125 | 45 | 28 | 198 |
| [frontend/src/services/__tests__/exportService.test.ts](/frontend/src/services/__tests__/exportService.test.ts) | TypeScript | 171 | 6 | 34 | 211 |
| [frontend/src/services/exportService.ts](/frontend/src/services/exportService.ts) | TypeScript | 130 | 28 | 29 | 187 |
| [frontend/src/stores/__tests__/useActivityStore.pbt.test.ts](/frontend/src/stores/__tests__/useActivityStore.pbt.test.ts) | TypeScript | 71 | 20 | 18 | 109 |
| [frontend/src/stores/__tests__/useActivityStore.test.ts](/frontend/src/stores/__tests__/useActivityStore.test.ts) | TypeScript | 86 | 1 | 11 | 98 |
| [frontend/src/stores/__tests__/useProjectStore.pbt.test.ts](/frontend/src/stores/__tests__/useProjectStore.pbt.test.ts) | TypeScript | 105 | 12 | 28 | 145 |
| [frontend/src/stores/__tests__/useProjectStore.race.test.ts](/frontend/src/stores/__tests__/useProjectStore.race.test.ts) | TypeScript | 360 | 0 | 36 | 396 |
| [frontend/src/stores/__tests__/useProjectStore.test.ts](/frontend/src/stores/__tests__/useProjectStore.test.ts) | TypeScript | 67 | 19 | 12 | 98 |
| [frontend/src/stores/__tests__/useRecentAccessStore.pbt.test.ts](/frontend/src/stores/__tests__/useRecentAccessStore.pbt.test.ts) | TypeScript | 66 | 8 | 15 | 89 |
| [frontend/src/stores/__tests__/useRecentAccessStore.test.ts](/frontend/src/stores/__tests__/useRecentAccessStore.test.ts) | TypeScript | 99 | 6 | 22 | 127 |
| [frontend/src/stores/__tests__/useToastStore.pbt.test.ts](/frontend/src/stores/__tests__/useToastStore.pbt.test.ts) | TypeScript | 57 | 9 | 11 | 77 |
| [frontend/src/stores/__tests__/useToastStore.test.ts](/frontend/src/stores/__tests__/useToastStore.test.ts) | TypeScript | 109 | 16 | 23 | 148 |
| [frontend/src/stores/__tests__/useUIStore.pbt.test.ts](/frontend/src/stores/__tests__/useUIStore.pbt.test.ts) | TypeScript | 59 | 16 | 13 | 88 |
| [frontend/src/stores/__tests__/useUIStore.test.ts](/frontend/src/stores/__tests__/useUIStore.test.ts) | TypeScript | 58 | 2 | 9 | 69 |
| [frontend/src/stores/useActivityStore.ts](/frontend/src/stores/useActivityStore.ts) | TypeScript | 58 | 3 | 11 | 72 |
| [frontend/src/stores/useProjectStore.ts](/frontend/src/stores/useProjectStore.ts) | TypeScript | 426 | 0 | 33 | 459 |
| [frontend/src/stores/useRecentAccessStore.ts](/frontend/src/stores/useRecentAccessStore.ts) | TypeScript | 49 | 3 | 9 | 61 |
| [frontend/src/stores/useStreamStore.ts](/frontend/src/stores/useStreamStore.ts) | TypeScript | 86 | 3 | 17 | 106 |
| [frontend/src/stores/useToastStore.ts](/frontend/src/stores/useToastStore.ts) | TypeScript | 48 | 0 | 9 | 57 |
| [frontend/src/stores/useUIStore.ts](/frontend/src/stores/useUIStore.ts) | TypeScript | 53 | 3 | 9 | 65 |
| [frontend/src/test-setup.ts](/frontend/src/test-setup.ts) | TypeScript | 1 | 0 | 1 | 2 |
| [frontend/src/utils/__tests__/validation.pbt.test.ts](/frontend/src/utils/__tests__/validation.pbt.test.ts) | TypeScript | 111 | 42 | 16 | 169 |
| [frontend/src/utils/__tests__/validation.test.ts](/frontend/src/utils/__tests__/validation.test.ts) | TypeScript | 78 | 0 | 17 | 95 |
| [frontend/src/utils/validation.ts](/frontend/src/utils/validation.ts) | TypeScript | 39 | 3 | 9 | 51 |
| [frontend/tailwind.config.js](/frontend/tailwind.config.js) | JavaScript | 10 | 1 | 1 | 12 |
| [frontend/tsconfig.json](/frontend/tsconfig.json) | JSON with Comments | 21 | 0 | 3 | 24 |
| [frontend/tsconfig.node.json](/frontend/tsconfig.node.json) | JSON | 10 | 0 | 1 | 11 |
| [frontend/vite.config.ts](/frontend/vite.config.ts) | TypeScript | 14 | 0 | 2 | 16 |
| [frontend/vitest.config.ts](/frontend/vitest.config.ts) | TypeScript | 10 | 1 | 2 | 13 |
| [test-results/.last-run.json](/test-results/.last-run.json) | JSON | 6 | 0 | 0 | 6 |
| [test-results/output-playwright-specs-pw-a3f5c-ix-system-bugfix-regression/error-context.md](/test-results/output-playwright-specs-pw-a3f5c-ix-system-bugfix-regression/error-context.md) | Markdown | 122 | 0 | 1 | 123 |

[Summary](results.md) / Details / [Diff Summary](diff.md) / [Diff Details](diff-details.md)